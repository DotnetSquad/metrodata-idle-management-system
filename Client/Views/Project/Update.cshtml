@model Client.DataTransferObjects.Projects.ProjectDtoGet
@using Client.DataTransferObjects.Employees

@{
    Layout = "_LayoutDashboard";
}

<main id="main" class="main">

    <div class="pagetitle">
        <h1>Form Update</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="~/Dashboard/Index">Home</a>
                </li>
                <li class="breadcrumb-item">
                    <a href="~/Project/Index">Project</a>
                </li>
                <li class="breadcrumb-item active">
                    <a href="~/Project/Update?guid=@Model.Guid">Update Project</a>
                </li>
            </ol>
        </nav>
    </div><!-- End Page Title -->

    <section class="section">
        <div class="row">
            <div class="col-lg-12">

                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Update Project Form</h5>
                        <p>Welcome to the Update Project Form for Internal Company Projects! This form is designed to facilitate the modification and enhancement of existing projects within organization. As you begin the update process, please ensure that the project name, project lead name and description accurately reflect any changes or developments in the project's scope and objectives. Thank you for using our application.</p>

                        <!-- Custom Styled Validation -->
                        <form action="/project/update" method="post" class="row g-3 needs-validation" novalidate>
                            @Html.AntiForgeryToken()
                            <div class="col-md-6" hidden>
                                <label for="validationCustom01" class="form-label">Guid</label>
                                <input asp-for="Guid" type="text" class="form-control" id="validationCustom01" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="validationCustom02" class="form-label">Name Project</label>
                                <input asp-for="NameProject" type="text" class="form-control" id="validationCustom02" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="validationCustom03" class="form-label">Project Lead</label>
                                <select asp-for="ProjectLead" class="form-select" id="validationCustom03" required>
                                    <option selected disabled value="">Choose...</option>
                                    @{
                                        foreach (var item in (IEnumerable<EmployeeDtoGet>)ViewData["Employees"])
                                        {
                                            if (Model.ProjectLead == $"{item.Nik} - {item.FirstName} {item.LastName}")
                                            {
                                                <option value="@item.Nik - @item.FirstName @item.LastName" selected>@item.Nik - @item.FirstName @item.LastName</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Nik - @item.FirstName @item.LastName">@item.Nik - @item.FirstName @item.LastName</option>
                                            }                                        }
                                    }
                                </select>
                                <div class="invalid-feedback">
                                    Please select a valid project.
                                </div>
                            </div>
                            <div class="col-md-12">
                                <label for="validationCustom04" class="form-label">Description</label>
                                <textarea asp-for="Description" class="form-control" id="validationCustom04" required></textarea>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary" type="submit">Submit form</button>
                            </div>
                        </form><!-- End Custom Styled Validation -->

                    </div>
                </div>

            </div>
        </div>
    </section>

</main><!-- End #main -->

